# Video Processing Statistics С++

## Структура проекта

### 1. Исходные данные
**Расположение:** каталог `datas/`  
**Содержимое:**
- 10 тестовых видеофайлов (от `video1.mp4` до `video10.mp4`)
- Предобученный каскадный классификатор Хаара для распознавания лиц котов (`haarcascade_frontalcatface_extended.xml`)

### 2. Исходный код
| Файл         | Описание |
|--------------|----------|
| `main.cpp`   | Обрабатывает видеофайлы и выводит метрики производительности: текущий FPS, время обработки, статистику анализа кадров |
| `camera.cpp` | Обработка видеопотока с камеры в реальном времени с распознаванием объектов и выводом статистики производительности |
| `savevideo.cpp` | Обработка входных видео с распознаванием объектов и сохранением результатов в каталог `res/` |

### 3. Выходные данные
- **Обработанные видео:** сохраняются в каталог `res/`
- **Метрики производительности:** выводятся в консоль, включая:
  - Статистику обработки кадров
  - Измерения FPS (кадров в секунду)

## Результаты детекции объектов

| Видео | Всего кадров | Правильные кадры | Неправильные кадры | Кот в видео |
|-------|--------------|------------------|--------------------|-------------|
| 1     | 274          | 162 (59.12%)     | 112 (40.88%)       | Да          |
| 2     | 256          | 256 (100%)       | 0 (0%)             | Да          |
| 3     | 267          | 267 (100%)       | 0 (0%)             | Да          |
| 4     | 375          | 375 (100%)       | 0 (0%)             | Да          |
| 5     | 629          | 389 (61.84%)     | 240 (38.16%)       | Да          |
| 6     | 419          | 308 (73.51%)     | 111 (26.49%)       | Да          |
| 7     | 198          | 182 (91.92%)     | 16 (8.08%)         | Нет         |
| 8     | 594          | 570 (95.96%)     | 24 (4.04%)         | Нет         |
| 9     | 192          | 163 (84.90%)     | 29 (15.10%)        | Нет         |
| 10    | 453          | 441 (97.35%)     | 12 (2.65%)         | Нет         |

### Общая статистика

| Показатель               | Значение       |
|--------------------------|----------------|
| Всего обработано видео   | 10             |
| Всего кадров             | 3,658          |
| Средняя точность         | 86.87%         |
| Ошибки 1-го рода         | 81 (2.21%)     |
| Ошибки 2-го рода         | 463 (12.66%)   |

## Результаты обработки

### Обработка с камеры 
| Параметр          | Значение       |
|-------------------|---------------|
| Общее время       | 31.21 сек     |
| Обработано кадров | 630           |
| FPS отображения   | 20.18         |
| FPS обработки     | 26.86         |

### Обработка видеофайлов
| Видео       | Кадры | Время (с) | FPS   |
|-------------|-------|----------|-------|
| video1.mp4  | 274   | 28.39    | 9.65  |
| video2.mp4  | 256   | 24.10    | 10.62 |
| video3.mp4  | 267   | 20.40    | 13.09 |
| video4.mp4  | 375   | 31.36    | 11.96 |
| video5.mp4  | 629   | 30.52    | 20.61 |
| video6.mp4  | 419   | 12.63    | 33.19 |
| video7.mp4  | 198   | 21.32    | 9.29  |
| video8.mp4  | 594   | 34.04    | 17.45 |
| video9.mp4  | 192   | 9.37     | 20.49 |
| video10.mp4 | 453   | 46.05    | 9.84  |

## Ключевые показатели

- **Лучший результат:** video6.mp4 (33.19 FPS)
- **Худший результат:** video7.mp4 (9.29 FPS)
- **Средний FPS (видео):** 15.70
- **Средний FPS (камера):** 20.18

## Сравнение обработки видеофайлов

| Видео       | Python FPS | C++ FPS | Разница |
|-------------|-----------|---------|---------|
| video1.mp4  | 9.79      | 9.65    | Python +1.5% |
| video2.mp4  | 11.14     | 10.62   | Python +4.9% |
| video3.mp4  | 13.09     | 13.09   | Одинаково |
| video4.mp4  | 13.01     | 11.96   | Python +8.8% |
| video5.mp4  | 23.71     | 20.61   | Python +15.0% |
| video6.mp4  | 32.44     | 33.19   | C++ +2.3% |
| video7.mp4  | 7.63      | 9.29    | C++ +21.8% |
| video8.mp4  | 15.47     | 17.45   | C++ +12.8% |
| video9.mp4  | 19.23     | 20.49   | C++ +6.6% |
| video10.mp4 | 9.84      | 9.84    | Одинаково |

## Технические параметры

- **Путь к данным:** C:/Users/avpap/source/repos/FotoTrapC/FotoTrapC/datas/
- **Метод распознавания:** Каскад Хаара (frontalcatface_extended.xml)
- **Параметры обработки:**
  - scaleFactor: 1.1
  - minNeighbors: 3
  - minSize: 30x30 px
- **Сборка:**
  - C++20
  - CMake 3.8+
